(this.webpackJsonpgenres=this.webpackJsonpgenres||[]).push([[0],{50:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),s=n(13),o=n(3),u=Object(o.a)(),l=n(8),m=n(17),p=n(9);function d(){var e=Object(l.a)(["\n  font-size: 20px;\n  align-self: flex-start;\n"]);return d=function(){return e},e}function f(){var e=Object(l.a)(["\n  font-size: 50px;\n  color: tomato;\n"]);return f=function(){return e},e}function v(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 50vh;\n  margin: 30px;\n"]);return v=function(){return e},e}var h=p.a.div(v()),E=p.a.div(f()),g=Object(p.a)(m.a)(d()),b=function(){return r.a.createElement(h,null,r.a.createElement(g,{link:!0,to:"/genres"},"< go back"),r.a.createElement(E,null,"Page Not Found :\\"))},O=n(19),j=n(20),y=n(23),N=n(21),k=n(24),S=n(16),_=n(18),A=n.n(_),T=n(29),C=n(47),x=n.n(C).a.create({baseURL:"https://api.deezer.com"});function I(){var e=Object(l.a)(["\n  margin-top: 30px;\n"]);return I=function(){return e},e}function w(){var e=Object(l.a)(["\n  cursor: pointer;\n"]);return w=function(){return e},e}var R=Object(p.a)(m.a)(w()),D=p.a.div(I()),G=function(e){function t(){var e,n;Object(O.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(y.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).genresIds=[],n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGenres(),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){localStorage.setItem("ids",this.genresIds)}},{key:"renderGenres",value:function(){var e=this;return this.props.genres.map((function(t){return e.genresIds.push(t.id),r.a.createElement(R,{to:"/genres/".concat(t.id),className:"ui fluid card",key:t.id},r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:t.name,src:t.picture_medium})),r.a.createElement("div",{className:"content"},r.a.createElement("span",{className:"header"},t.name)))}))}},{key:"render",value:function(){return r.a.createElement(D,null,r.a.createElement("div",{className:"ui grid"},r.a.createElement("h2",{className:"ui header"},"Select Genre"),r.a.createElement("div",{className:"ui eight cards"},this.renderGenres())))}}]),t}(a.Component),P=Object(S.b)((function(e){return{genres:e.genres}}),{fetchGenres:function(){return function(){var e=Object(T.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/genre");case 2:n=e.sent,t({type:"FETCH_GENRES",payload:n.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(G),F=n(30);function L(){var e=Object(l.a)(["\n  cursor: pointer;\n"]);return L=function(){return e},e}var U=p.a.span(L()),H=function(e){for(var t=e.perPage,n=e.totalArtists,a=e.paginate,c=e.current,i=[],s=1;s<=Math.ceil(n/t);s++)i.push(s);return r.a.createElement("div",{className:"ui pagination menu"},i.map((function(e){return r.a.createElement(U,{key:e,onClick:function(){return a(e)},className:c===e?"active item":"item"},e)})))},M=function(e){var t=Object(a.useState)(1),n=Object(F.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(10),u=Object(F.a)(o,1)[0],l=c*u,m=l-u,p=e.artists.slice(m,l);return i.a.createPortal(r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("i",{className:"close icon",onClick:e.onDismiss}),r.a.createElement("div",{className:"header"},"Artists"),r.a.createElement("div",{className:"content"},e.content,r.a.createElement("div",{className:"ui five cards"},p.map((function(e){return r.a.createElement("div",{className:"ui fluid card",key:e.id},r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:e.name,src:e.picture_medium})),r.a.createElement("div",{className:"content"},r.a.createElement("span",{className:"header"},e.name)))})))),r.a.createElement("div",{className:"actions"},r.a.createElement(H,{current:c,perPage:u,totalArtists:e.artists.length,paginate:function(e){return s(e)}})))),document.getElementById("modal"))},z=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchArtists(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearArtists()}},{key:"render",value:function(){return this.props.artists?null===localStorage.getItem("ids")||localStorage.getItem("ids").includes(this.props.match.params.id)?r.a.createElement("div",null,r.a.createElement(M,{artists:this.props.artists,onDismiss:function(){return u.push("/genres")}})):r.a.createElement(b,null):r.a.createElement(M,{content:"Loading..."})}}]),t}(a.Component),J=Object(S.b)((function(e){return{artists:e.artists}}),{fetchArtists:function(e){return function(){var t=Object(T.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.get("/genre/".concat(e,"/artists"));case 2:a=t.sent,n({type:"FETCH_ARTISTS",payload:a.data.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearArtists:function(){return{type:"CLEAR_ARTISTS"}}})(z),X=function(){return console.log("/genres"),r.a.createElement("div",{className:"ui container"},r.a.createElement(s.b,{history:u},r.a.createElement(s.c,null,r.a.createElement(s.a,{basename:"/genres",path:"/genres",exact:!0,component:P}),r.a.createElement(s.a,{path:"/genres/:id",component:J}),r.a.createElement(s.a,{component:b}))))},q=n(12),B=n(48),V=n(22),W=Object(q.c)({genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GENRES":return Object(V.a)(t.payload);default:return e}},artists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ARTISTS":return Object(V.a)(t.payload);case"CLEAR_ARTISTS":return[];default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,Q=Object(q.e)(W,K(Object(q.a)(B.a)));i.a.render(r.a.createElement(S.a,{store:Q},r.a.createElement(X,null)),document.querySelector("#root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.8615d03a.chunk.js.map