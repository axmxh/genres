{"version":3,"sources":["history.js","components/NotFound.js","apis/deezer.js","components/Genres.js","actions/index.js","actions/types.js","components/Pagination.js","components/Modal.js","components/Artists.js","components/App.js","reducers/index.js","reducers/genreReducer.js","reducers/artistReducer.js","index.js"],"names":["createBrowserHistory","Container","styled","div","NotFoundContainer","LinkContainer","Link","NotFound","link","to","axios","create","baseURL","StyledLink","GenresContainer","Genres","genresIds","this","props","fetchGenres","componentDidUpdate","localStorage","setItem","genres","map","genre","push","id","className","key","alt","name","src","picture_medium","renderGenres","Component","connect","state","dispatch","a","deezer","get","response","type","payload","data","PaginationContainer","span","Pagination","perPage","totalArtists","paginate","current","pages","i","Math","ceil","page","onClick","Model","useState","setCurrent","end","start","currentPage","artists","slice","ReactDOM","createPortal","onDismiss","e","stopPropagation","content","artist","length","document","getElementById","Artists","fetchArtists","match","params","clearArtists","getItem","includes","Modal","history","App","console","log","process","basename","path","exact","component","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","render","querySelector"],"mappings":"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","file":"static/js/main.56d539b1.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\nexport default createBrowserHistory();\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 50vh;\n  margin: 30px;\n`;\n\nconst NotFoundContainer = styled.div`\n  font-size: 50px;\n  color: tomato;\n`;\n\nconst LinkContainer = styled(Link)`\n  font-size: 20px;\n  align-self: flex-start;\n`;\n\nconst NotFound = () => {\n  return (\n    <Container>\n      <LinkContainer link to='/genres'>\n        {`< go back`}\n      </LinkContainer>\n      <NotFoundContainer>Page Not Found :\\</NotFoundContainer>\n    </Container>\n  );\n};\n\nexport default NotFound;\n","import axios from 'axios';\n/**\n *  if you run the project locally you have to use commented baseURL:\n *  to bypass CORS policy\n *  https://cors-anywhere.herokuapp.com/https://api.deezer.com\n */\n\nexport default axios.create({\n  // baseURL: 'https://cors-anywhere.herokuapp.com/https://api.deezer.com'\n  baseURL: 'https://api.deezer.com'\n});\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchGenres } from '../actions';\nimport styled from 'styled-components';\n\nconst StyledLink = styled(Link)`\n  cursor: pointer;\n`;\n\nconst GenresContainer = styled.div`\n  margin-top: 30px;\n`;\n\nclass Genres extends Component {\n  genresIds = [];\n\n  componentDidMount() {\n    this.props.fetchGenres();\n    this.componentDidUpdate();\n  }\n  componentDidUpdate() {\n    localStorage.setItem('ids', this.genresIds);\n  }\n\n  renderGenres() {\n    return this.props.genres.map(genre => {\n      this.genresIds.push(genre.id);\n      return (\n        <StyledLink\n          to={`/genres/${genre.id}`}\n          className='ui fluid card'\n          key={genre.id}\n        >\n          <div className='image'>\n            <img alt={genre.name} src={genre.picture_medium} />\n          </div>\n          <div className='content'>\n            <span className='header'>{genre.name}</span>\n          </div>\n        </StyledLink>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <GenresContainer>\n        <div className='ui grid'>\n          <h2 className='ui header'>Select Genre</h2>\n          <div className='ui eight cards'>{this.renderGenres()}</div>\n        </div>\n      </GenresContainer>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    genres: state.genres\n  };\n};\n\nexport default connect(mapStateToProps, { fetchGenres })(Genres);\n","import { FETCH_GENRES, FETCH_ARTISTS, CLEAR_ARTISTS } from './types';\nimport deezer from '../apis/deezer';\n\nexport const fetchGenres = () => async dispatch => {\n  const response = await deezer.get('/genre');\n\n  dispatch({ type: FETCH_GENRES, payload: response.data.data });\n};\n\nexport const fetchArtists = id => async dispatch => {\n  const response = await deezer.get(`/genre/${id}/artists`);\n\n  dispatch({ type: FETCH_ARTISTS, payload: response.data.data });\n};\n\nexport const clearArtists = () => {\n  return {\n    type: CLEAR_ARTISTS\n  };\n};\n","export const FETCH_GENRES = 'FETCH_GENRES';\nexport const FETCH_ARTISTS = 'FETCH_ARTISTS';\nexport const CLEAR_ARTISTS = 'CLEAR_ARTISTS';\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst PaginationContainer = styled.span`\n  cursor: pointer;\n`;\n\nconst Pagination = ({ perPage, totalArtists, paginate, current }) => {\n  const pages = [];\n  for (let i = 1; i <= Math.ceil(totalArtists / perPage); i++) {\n    pages.push(i);\n  }\n\n  return (\n    <div className='ui pagination menu'>\n      {pages.map(page => (\n        <PaginationContainer\n          key={page}\n          onClick={() => paginate(page)}\n          className={current === page ? 'active item' : 'item'}\n        >\n          {page}\n        </PaginationContainer>\n      ))}\n    </div>\n  );\n};\n\nexport default Pagination;\n","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport Pagination from './Pagination';\n\nconst Model = props => {\n  const [current, setCurrent] = useState(1);\n  const [perPage] = useState(10);\n\n  // Get current artists\n  const end = current * perPage;\n  const start = end - perPage;\n  const currentPage = props.artists.slice(start, end);\n  const paginate = page => setCurrent(page);\n\n  const renderArtists = () => {\n    return currentPage.map(artist => {\n      return (\n        <div className='ui fluid card' key={artist.id}>\n          <div className='image'>\n            <img alt={artist.name} src={artist.picture_medium} />\n          </div>\n          <div className='content'>\n            <span className='header'>{artist.name}</span>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className='ui dimmer modals visible active'>\n      <div\n        onClick={e => e.stopPropagation()}\n        className='ui standard modal visible active'\n      >\n        <i className='close icon' onClick={props.onDismiss}></i>\n        <div className='header'>Artists</div>\n        <div className='content'>\n          {props.content}\n          <div className='ui five cards'>{renderArtists()}</div>\n        </div>\n        <div className='actions'>\n          <Pagination\n            current={current}\n            perPage={perPage}\n            totalArtists={props.artists.length}\n            paginate={paginate}\n          />\n        </div>\n      </div>\n    </div>,\n    document.getElementById('modal')\n  );\n};\n\nexport default Model;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchArtists, clearArtists } from '../actions';\nimport history from '../history';\nimport NotFound from './NotFound';\n\nimport Modal from './Modal';\n\nclass Artists extends Component {\n  componentDidMount() {\n    this.props.fetchArtists(this.props.match.params.id);\n  }\n\n  componentWillUnmount() {\n    this.props.clearArtists();\n  }\n\n  render() {\n    if (this.props.artists) {\n      if (\n        localStorage.getItem('ids') === null ||\n        localStorage.getItem('ids').includes(this.props.match.params.id)\n      ) {\n        return (\n          <div>\n            <Modal\n              artists={this.props.artists}\n              onDismiss={() => history.push('/genres')}\n            />\n          </div>\n        );\n      } else {\n        return <NotFound />;\n      }\n    }\n    return <Modal content='Loading...' />;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    artists: state.artists\n  };\n};\n\nexport default connect(mapStateToProps, { fetchArtists, clearArtists })(\n  Artists\n);\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from '../history';\nimport NotFound from './NotFound';\n\nimport Genres from './Genres';\nimport Artists from './Artists';\n\nconst App = () => {\n  console.log(process.env.PUBLIC_URL);\n  return (\n    <div className='ui container'>\n      <Router history={history}>\n        <Switch>\n          <Route\n            basename={process.env.PUBLIC_URL}\n            path='/genres'\n            exact\n            component={Genres}\n          />\n          <Route path={`${process.env.PUBLIC_URL}/:id`} component={Artists} />\n          <Route component={NotFound} />\n        </Switch>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport genreReducer from './genreReducer';\nimport artistReducer from './artistReducer';\n\nexport default combineReducers({\n  genres: genreReducer,\n  artists: artistReducer\n});\n","import { FETCH_GENRES } from '../actions/types';\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case FETCH_GENRES:\n      return [...action.payload];\n    default:\n      return state;\n  }\n};\n","import { FETCH_ARTISTS, CLEAR_ARTISTS } from '../actions/types';\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case FETCH_ARTISTS:\n      return [...action.payload];\n    case CLEAR_ARTISTS:\n      return [];\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}